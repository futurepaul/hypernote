<!-- 
    MAGIC WORDS:
    `hn-use` - embed a 2616 event as component
    `hn-kind` - define what kind of event this component can render
    `hn-field` - define a field to render from the event
    `hn-with` - specify an event for a component to render
    `hn-author` - narrow a query to a specific author
    `hn-limit` - limit the number of events to render
    `hn-query` - define a query to render many events

    // copilot thought this up:
    `hn-when` - define a condition for rendering
 -->

<!-- Simplest hypernote component. Just fetches an event and if it's kind 2616 it replaces itself with that event's content -->
<div hn-use="event123abc"></div>

<!-- Kind 2616 that renders a Kind 0 -->
<!-- Let's pretend when this published it's given the ID event456 -->
<header hn-kind="0">
	<pre hn-field="id"></pre>
	<pre hn-field="pubkey"></pre>
	<time hn-field="created_at"></time>
	<!-- If you define multiple fields it will fall through to each one, left to right -->
	<h2 hn-field="content.name" hn-field="content.display_name">No Name</h2>
	<pre hn-field="sig"></pre>
</header>

<!-- Kind 2616 that renders a given Kind 1 -->
<!-- Published as ID event789 -->
<section hn-kind="1">
	<pre hn-field="id"></pre>
	<!-- To display the author of the note we'll use a Kind 2616 event: event456 and pass it the pubkey -->
	<div hn-use="event456" hn-with="pubkey"></div>
	<time hn-field="created_at"></time>
	<div hn-field="content">Fallback text</div>
	<pre hn-field="sig"></pre>
</section>

<!-- A developer of a hypernote app can now use event789 to display a single note -->
<div
	hn-use="event789"
	hn-with="note100993x87p28um0hhda0g4exdf86d52nrqqa3q23fqnl57x2jdueqprtt5l"
></div>

<!-- Kind 2616 that can handle a query for many items -->
<!-- Published as ID eventABC -->
<div
	hn-author="npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft"
	hn-limit="10"
>
	<!-- Somehow magically we know that if there's an inner `hn-use`, resolve that first to figure out -->
	<!-- what shape of data it can be passed. Then use data from the parent's query and make as man of the child as necessary -->
	<div hn-use="event789" hn-with></div>
</div>

<!-- OR could do a fancy query maybe? -->
<div
	hn-query="kinds:[1], authors:['fa984bd7dbb282f07e16e7ae87b26a2a7b9b90b7246a44771f0cf5ae58018f52'], limit:10"
>
	<div hn-use="event789"></div>
</div>

<!-- 
const pablo = ndk.getUser({npub: "npub1l2vyh47mk2p0qlsku7hg0vn29faehy9hy34ygaclpn66ukqp3afqutajft"});
ndk.subscribe({
     kinds: [1], authors: [ pablo.hexpubkey ], limit: 1
 }, { closeOnEose: true }).on("event", (e) => {
     console.log(`got event ${e.id} from ${e.relay?.url}`);
 });
-->
